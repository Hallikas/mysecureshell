Installation:
-------------
Executer le script shell d'installation de la facon suivante:
sh install.sh fr

Pour la version Mac, lancez le package d'installation et suivre les instructions.


Compilation:
------------
Necessite : gnu-make (par defaut sous linux)

1/ Taper la commande:
	make all

2/ Et ensuite, taper la commande :
	./install.sh fr


Require:
--------
OpenSSH 3.8.1 (ou superieur)


Fichier de configuration:
-------------------------
Voir le fichier sftp_config d'exemple.


Arguments de MySecureShell:
---------------------------
--configtest = test le fichier de configuration et affiche les erreurs du fichier


Utilitaires:
------------
Dans le repertoire utils, il existe l'utilitaire suivant:
- sftp-who : permet de savoir qui est connecte puis affiche le PID du processus du client,
 	 	l'heure de connection, le temps de connection et d'autre informations
		concernant les limites utilisees pour le client
- sftp-kill : permet de deconnecter un ou plusieurs utilisateur juste en passant
		le nom de l'utilisateur ou all en argument
- sftp-state : permet d'activer ou de desactiver le serveur sftp


---


INFO IMPORTANTES:
-----------------
1/ Les droits:
La configuration prise pour un compte possede les priorites suivantes
(classe en allant vers la regle la plus prioritaires):
- Restriction "Default"
- Restriction sur tout les groupes / comptes
- Restriction sur un des ses groupes
- Restriction sur une plage d'IP
- Restriction sur l'utilisateur
Si un utilisateur est dans plusieurs groupes alors la derniere configuration
appliquable sera utilisee.

2/ Le chroot:
Le chroot enferme l'utilisateur dans son repertoire home, l'utilisateur voit son home
en tant que repertoire racine du serveur.


A VENIR
-------
- Ajout de fichier de log personnalisable
- Possibilite de cacher des fichiers (par createur / groupe du fichier)
- Ajout de ratio
- Ajout d'un quota


IMPOSSIBLE A IMPLEMENTER:
-------------------------
- interdir les personnes qui brutent force un compte (deja implemente dans PAM et OpenSSH)


CONTACTS ET INFORMATIONS:
-------------------------
http://mysecureshell.sourceforge.net
teka2nerdman@users.sourceforge.net


HISTORIQUE:
-----------
0.6 (2005) :
	+ reecriture totale du sftp-server_MSS
	+ support du protocol SFTP v4
	+ ajout du tag VirtualHost (attention aux restrictions)

0.5 (avril 2005) :
	+ support Cygwin (Windows 2000/XP) [un package special sera bientot creer]
	+ ajout des mots clefs ByPassGlobalDownload, ByPassGlobalUpload et ShowLinksAsLinks
	+ sftp-state :
		- Ajout de l'option -yes pour accepter toutes les questions
	~ amelioration du tag IpRange
	= fixe un bug sur les limitations de vitesse
	= fixe des bug sur les restrictions IgnoreHidden et VirtualChroot
	= sftp-who :
		- fixe une boucle infini dans certain cas
		- fixe des fuites de memoire
	- suppression de l'installateur java car le script shell est plus complet

0.4 (janvier 2005) :
	+ ajout d'un tag:
		- IpRange (pour definir des restrictions suivant l'ip de l'utilisateur)
		- Default (pour definir des restrictions par defaut)
	+ ajout des mots clefs GlobalDownload et GlobalUpload
	+ maintenant les liens sont "transparents" et ils ne posent plus de probleme avec la
		restriction StayAtHome
	+ MySecureShell :
		- ajout d'un mode verbose pour voir quelles regles sont appliquees
	+ sftp-kill :
		- ajout d'une question pour deconnecter les clients quand on stoppe le serveur
	~ sftp-who :
		- affiche le nombre maximum de connection puis ajoute des informations au mode verbose
		- affiche la vitesse de transfert en vitesse reelle (et non une moyenne comme avant)
		- affiche le pourcentage de telechargement des fichiers
	= fixe un bug sur les limitations de vitesse
	= fixe divers bugs

0.3 (decembre 2004) :
	+ ajout des mots clefs HideNoAcess, MaxOpenFilesForUser, MaxWriteFilesForUser, MaxReadFilesForUser et
		Include, Umask, PathDenyFilter
	+ la restriction Umask s'appelle desormais DefaultRights pour plus de logique
	+ sftp-who :
		- ajout de l'argument -v pour afficher les restrictions activees sur un compte
	+ ajout de l'utilitaire sftp-state
	~ amelioration de l'installation MacOSX (entierement graphique)
	~ amelioration du script d'installation (support plus simple pour le multi-langage)
	~ amelioration de l'option --configtest (de MySecureShell)
	= fixe des bugs sur les restrictions HideFiles et IgnoreHidden
	= fixe un bug sur le sftp-kill

0.2 (24 octobre 2004) :
	+ support de OpenBSD, FreeBSD et de NetBSD
	+ ajout des restrictions LimitConnectionByUser (anciennement LimitConnection),
		LimitConnection (limite le nombre de connection au serveur), Shell
	+ le fichier sftp-server s'appelle desormais sftp-server_MSS pour garder le
		serveur sftp original de OpenSSH
	+ la restriction Home supporte les variables d'environnements
	~ sftp-who :
		- le nombre des clients connectes est ecrit en premier
		- n'affiche plus des vitesses de transmissions "bizzares"
		- ajout d'une option pour afficher en permance le sftp-who (avec refresh automatique)
	~ sftp-kill :
		- fixe un bug si on essayer de deconnecter tout le monde alors que personne n'est connecter
	= fixe un bug sur des clients "fantomes"
	= fixe un bug sur les restrictions LimitConnection et LimitConnectionByIP

0.1 (septembre 2004) :
	+ ajout d'un installateur graphique en JAVA
	+ ajout d'un installateur MacOSX et linux en script shell
	+ ajout de l'utilitaire sftp-kill (pour deconnecter des utilisateurs)
	+ ajout de l'utilitaire sftp-who (pour visualiser les utilisateurs connectes)
	+ ajout d'un fichier de log (/var/log/sftp-server.log)
	+ ajout des restrictions IgnoreHidden, DirFakeUser, DirFakeGroup, DirFakeMode,
		Download, Upload, StayAtHome, VirtualChroot, LimitConnection,
		ResolveIP Home, HideFiles, LimitConnectionByIP, IdleTimeOut
	+ amelioration du sftp-who (beaucoup d'informations sont visibles)
	+ amelioration du parsing
	+ fichier de configuration le choix true ou false possede son equivalent 1 ou 0
	= fixe un bug dans le fichier de log (de temps en temps, l'ip et le nom d'utilisateur etaient intervertis)
	= fixe un bug sur la gestion de la memoire
	~ base de OpenSSH v3.9p1
